<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AML Dashboard Example</title>
<style>
body { font-family: Arial, sans-serif; padding: 20px; }
h1 { color: #2c3e50; }
button { display:block; width:100%; margin:5px 0; padding:10px; cursor:pointer; background:#2c3e50; color:white; border:none; text-align:left; }
button:hover { background:#34495e; }
.content { display:none; padding:10px; margin-bottom:10px; background:#ecf0f1; border-left:4px solid #2c3e50; }
.tag { display:inline-block; padding:2px 6px; margin-right:5px; border-radius:3px; font-size:12px; color:white; }
.tag.AML { background:#e67e22; }
.tag.Fraud { background:#c0392b; }
table { width:100%; border-collapse:collapse; margin-top:20px; }
th, td { border:1px solid #ccc; padding:8px; }
th { background:#2c3e50; color:white; }
</style>
</head>
<body>

<h1>AML & Regulatory Dashboard</h1>

<div id="dashboard"></div>

<h2>Diary of Important Dates</h2>
<table>
  <thead>
    <tr>
      <th>Date</th>
      <th>Agency</th>
      <th>Title</th>
      <th>Tags</th>
    </tr>
  </thead>
  <tbody id="diary"></tbody>
</table>

<script>
const agenciesData = [
  {
    name: "HM Treasury",
    news: [
      { title:"New AML guidance", summary:"Updated AML rules for firms.", link:"#", tags:["AML"] },
      { title:"Budget 2026", summary:"Budget focuses on AML compliance.", link:"#", tags:["AML","Payment"] }
    ],
    importantDates: [{date:"2025-12-01", title:"Consultation deadline", tags:["AML"]}]
  },
  {
    name:"Home Office",
    news:[
      { title:"Immigration reform", summary:"Policy update affects AML enforcement.", link:"#", tags:["AML"] }
    ],
    importantDates: [{date:"2025-11-30", title:"Policy release", tags:["AML"]}]
  }
];

const dashboard = document.getElementById("dashboard");
const diary = document.getElementById("diary");

agenciesData.forEach(agency => {
  // Collapsible section
  const btn = document.createElement("button");
  btn.textContent = agency.name;
  const div = document.createElement("div");
  div.className = "content";

  agency.news.forEach(n => {
    const item = document.createElement("div");
    item.innerHTML = `<strong>${n.title}</strong> - <a href="${n.link}" target="_blank">Read more</a><br>${n.summary}<br>` +
                     n.tags.map(t => `<span class="tag ${t}">${t}</span>`).join(" ");
    div.appendChild(item);
  });

  btn.addEventListener("click", ()=>div.style.display = div.style.display==="block"?"none":"block");
  dashboard.appendChild(btn);
  dashboard.appendChild(div);

  // Diary
  agency.importantDates.forEach(d => {
    const row = diary.insertRow();
    row.insertCell(0).textContent = d.date;
    row.insertCell(1).textContent = agency.name;
    row.insertCell(2).textContent = d.title;
    row.insertCell(3).innerHTML = d.tags.map(t => `<span class="tag ${t}">${t}</span>`).join(" ");
  });
});
</script>

</body>
</html>
