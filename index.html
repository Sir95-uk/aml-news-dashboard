<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AML & Regulatory Dashboard</title>
<style>
  body { font-family: Arial, sans-serif; margin: 0; padding: 20px; background: #f4f4f4; }
  h1 { text-align: center; color: #222; }
  .agency-section { border-radius: 8px; margin-bottom: 15px; padding: 15px; cursor: pointer; transition: all 0.3s ease; }
  .agency-section h2 { margin: 0; color: #000; }
  .agency-section.collapsed { background: #e0e0e0; }
  .agency-section.expanded { background: #fff; box-shadow: 0px 4px 8px rgba(0,0,0,0.1); }
  .content { display: none; margin-top: 10px; }
  .news-item { margin-bottom: 10px; }
  .news-item a { color: #007BFF; text-decoration: none; font-weight: bold; }
  .news-item a:hover { text-decoration: underline; }
  table { width: 100%; border-collapse: collapse; margin-top: 20px; }
  table, th, td { border: 1px solid #ccc; }
  th, td { padding: 8px; text-align: left; }
  th { background: #007BFF; color: #fff; }
</style>
</head>
<body>

<h1>AML & Regulatory Dashboard</h1>
<p>Click on each agency to expand news, priorities, and important dates.</p>

<div id="dashboard"></div>

<h2>Diary of Important Dates</h2>
<table id="diary">
  <thead>
    <tr>
      <th>Date</th>
      <th>Agency</th>
      <th>Title</th>
      <th>Tags</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

<script>
// Agencies data
const agenciesData = [
  {
    name: "HM Treasury",
    news: [
      { title: "New AML guidance published", summary: "Updated AML guidance sets expectations for UK financial firms.", tags: ["AML","Financial"], link: "https://www.gov.uk/government/publications/anti-money-laundering-supervision" },
      { title: "Budget 2026 announced", summary: "HM Treasury presents new budget with AML compliance focus.", tags: ["AML","Budget"], link: "https://www.gov.uk/government/news/budget-2026-announcement" }
    ],
    priorities: ["Strengthening UK AML regime", "Economic oversight and regulatory reform"],
    importantDates: ["2025-12-01: Consultation deadline"]
  },
  {
    name: "Home Office",
    news: [
      { title: "Immigration reform announced", summary: "Policy update related to border and AML investigations.", tags: ["AML","Immigration"], link: "https://www.gov.uk/government/news/home-office-immigration-reform" }
    ],
    priorities: ["Border security", "AML investigations support"],
    importantDates: ["2025-11-30: Policy release"]
  },
  {
    name: "HMRC",
    news: [
      { title: "Crypto reporting requirements updated", summary: "New guidance under CARF for crypto-asset service providers.", tags: ["AML","Crypto"], link: "https://www.gov.uk/guidance/reporting-cryptoasset-user-and-transaction-data" },
      { title: "Data collection obligations under CARF", summary: "What crypto platforms must collect and report to HMRC.", tags: ["AML","Crypto"], link: "https://www.gov.uk/guidance/collecting-cryptoasset-user-and-transaction-data" }
    ],
    priorities: ["Tax compliance", "AML supervision"],
    importantDates: ["2025-12-15: Crypto guidance"]
  },
  {
    name: "FATF",
    news: [
      { title: "Next MER scheduled", summary: "The UK's next Mutual Evaluation Review will assess AML regime effectiveness.", tags: ["AML","International"], link: "https://www.fatf-gafi.org/publications/mutualevaluations/" }
    ],
    priorities: ["Global AML standards", "UK evaluation"],
    importantDates: ["2027: UK Mutual Evaluation Review"]
  },
  {
    name: "FCA",
    news: [
      { title: "REP CRIM update guidance released", summary: "Updated guidance for authorized firms under FSMA.", tags: ["AML","Regulation","Crypto"], link: "https://www.fca.org.uk/publications/correspondence/rep-crim-guidance" }
    ],
    priorities: ["Supervision of authorized firms", "Crypto oversight"],
    importantDates: ["2025-12-10: Compliance check"]
  },
  {
    name: "OFCOM",
    news: [
      { title: "Telecoms and payment fraud alert", summary: "Updated guidance on telecom fraud and financial scams.", tags: ["Fraud","Payments"], link: "https://www.ofcom.org.uk/consultations-and-statements" }
    ],
    priorities: ["Consumer protection", "AML awareness"],
    importantDates: ["2025-12-05: Fraud consultation"]
  },
  {
    name: "Trading Standards",
    news: [
      { title: "National fraud campaign launched", summary: "Campaign targeting scams and AML compliance in businesses.", tags: ["AML","Fraud"], link: "https://www.tradingstandards.uk/news" }
    ],
    priorities: ["Consumer protection", "Fraud prevention"],
    importantDates: ["2025-12-20: Campaign launch"]
  },
  {
    name: "National Trading Standards",
    news: [
      { title: "National enforcement priorities 2025", summary: "Focus on AML and fraud risks in consumer markets.", tags: ["AML","Fraud","Consumer"], link: "https://www.nationaltradingstandards.uk/news/" }
    ],
    priorities: ["AML risk oversight", "Consumer fraud detection"],
    importantDates: ["2025-11-29: Enforcement report"]
  },
  {
    name: "DWP",
    news: [
      { title: "Benefit fraud guidance updated", summary: "Updated guidance for detecting fraudulent claims.", tags: ["Fraud","AML"], link: "https://www.gov.uk/government/organisations/department-for-work-pensions" }
    ],
    priorities: ["Fraud detection", "AML compliance"],
    importantDates: ["2025-12-12: New guidance"]
  }
];

// Render dashboard
const container = document.getElementById("dashboard");
const diaryBody = document.querySelector("#diary tbody");

agenciesData.forEach((agency, index) => {
  const section = document.createElement("div");
  section.classList.add("agency-section", "collapsed");
  
  const title = document.createElement("h2");
  title.textContent = agency.name;
  section.appendChild(title);

  const content = document.createElement("div");
  content.classList.add("content");

  // News
  agency.news.forEach((item) => {
    const newsDiv = document.createElement("div");
    newsDiv.classList.add("news-item");
    const link = document.createElement("a");
    link.href = item.link;
    link.target = "_blank";
    link.textContent = item.title + " - Read more";
    const summary = document.createElement("p");
    summary.textContent = item.summary;
    newsDiv.appendChild(link);
    newsDiv.appendChild(summary);
    content.appendChild(newsDiv);

    // Add to diary table
    item.tags.forEach(tag => {
      const row = document.createElement("tr");
      const dateCell = document.createElement("td");
      dateCell.textContent = agency.importantDates[0].split(":")[0];
      const agencyCell = document.createElement("td");
      agencyCell.textContent = agency.name;
      const titleCell = document.createElement("td");
      titleCell.textContent = item.title;
      const tagsCell = document.createElement("td");
      tagsCell.textContent = item.tags.join(", ");
      row.appendChild(dateCell);
      row.appendChild(agencyCell);
      row.appendChild(titleCell);
      row.appendChild(tagsCell);
      diaryBody.appendChild(row);
    });
  });

  // Priorities
  const pri = document.createElement("p");
  pri.innerHTML = "<strong>Priorities:</strong> " + agency.priorities.join(", ");
  content.appendChild(pri);

  section.appendChild(content);
  container.appendChild(section);

  // Toggle expand/collapse
  section.addEventListener("click", () => {
    const expanded = section.classList.toggle("expanded");
    section.classList.toggle("collapsed", !expanded);
    content.style.display = expanded ? "block" : "none";
  });

  // Assign random pastel background color for each agency
  const pastelColors = ["#FFCDD2","#F8BBD0","#E1BEE7","#D1C4E9","#BBDEFB","#B2EBF2","#C8E6C9","#FFF9C4","#FFE0B2","#FFCCBC"];
  section.style.background = pastelColors[index % pastelColors.length];
});
</script>
</body>
</html>
