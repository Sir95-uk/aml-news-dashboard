<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Regulatory News Dashboard</title>
<style>
  body { font-family: Arial; padding: 20px; }
  h1 { color: #333; }
  .card {
    border: 1px solid #ccc; 
    padding: 12px; 
    margin: 10px 0; 
    border-radius: 6px;
    background: #fafafa;
  }
  .section { margin-top: 10px; cursor: pointer; font-weight: bold; }
  .content { display: none; margin-left: 15px; padding: 8px; }
</style>
</head>
<body>

<h1>Regulatory News Dashboard</h1>
<p>Select an agency to view updates:</p>

<select id="agencyDropdown"></select>

<div id="output"></div>

<script>
// Load your single JSON file
fetch("agencies.json")
  .then(res => res.json())
  .then(data => {
    const dropdown = document.getElementById("agencyDropdown");
    const output = document.getElementById("output");

    // Populate dropdown
    data.agencies.forEach(a => {
      let option = document.createElement("option");
      option.value = a.name;
      option.textContent = a.name;
      dropdown.appendChild(option);
    });

    // Display the selected agency
    function displayAgency() {
      const agencyName = dropdown.value;
      const agency = data.agencies.find(a => a.name === agencyName);

      output.innerHTML = `
        <div class="card">
          <div class="section" onclick="toggle(this)">News</div>
          <div class="content">${agency.news.map(n => `<p>• ${n}</p>`).join("")}</div>

          <div class="section" onclick="toggle(this)">Priorities</div>
          <div class="content">${agency.priorities.map(p => `<p>• ${p}</p>`).join("")}</div>

          <div class="section" onclick="toggle(this)">Important Dates</div>
          <div class="content">${agency.importantDates.map(d => `<p>• ${d}</p>`).join("")}</div>
        </div>
      `;
    }

    dropdown.addEventListener("change", displayAgency);
    displayAgency(); // load first agency by default
  });

// Toggle sections
function toggle(el) {
  const content = el.nextElementSibling;
  content.style.display = content.style.display === "block" ? "none" : "block";
}
</script>

</body>
</html>
