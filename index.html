<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AML & Regulatory Dashboard</title>
<style>
  body { font-family: Arial, sans-serif; background: #f0f2f5; margin: 0; padding: 20px; }
  h1 { color: #2c3e50; text-align: center; }
  .section { margin-bottom: 20px; border-radius: 8px; padding: 10px; }
  button { 
    cursor: pointer; 
    padding: 10px 15px; 
    margin-top: 10px; 
    width: 100%; 
    text-align: left; 
    border: none; 
    border-radius: 5px;
    background-color: #ffd700; 
    color: #000;
    font-weight: bold;
    font-size: 16px;
    transition: background 0.3s;
  }
  button:hover { background-color: #ffc107; }
  .content { 
    display: none; 
    padding: 10px; 
    background: #ffffff; 
    border-left: 5px solid #2c3e50; 
    margin-top: 5px; 
    border-radius: 5px;
    animation: fadeIn 0.5s ease-in-out;
  }
  table { border-collapse: collapse; width: 100%; margin-top: 20px; }
  th, td { border: 1px solid #ddd; padding: 8px; }
  th { background-color: #2c3e50; color: white; }
  tr:nth-child(even) { background-color: #f2f2f2; }
  tr:hover { background-color: #ddd; }
  @keyframes fadeIn { from { opacity: 0; } to { opacity: 1; } }
</style>
</head>
<body>

<h1>AML & Regulatory Dashboard</h1>
<p style="text-align:center;">Filter by agency to view updates, summaries, priorities, and upcoming dates.</p>

<div id="dashboard"></div>

<h2>Diary of Important Dates</h2>
<table id="diary">
  <thead>
    <tr>
      <th>Date</th>
      <th>Agency</th>
      <th>Title</th>
      <th>Tags</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

<script>
const agenciesData = [
  {
    name: "HM Treasury",
    news: [
      { title: "New AML guidance", summary: "Updated AML rules for firms.", link: "#" },
      { title: "Budget 2026", summary: "Budget focuses on AML compliance.", link: "#" }
    ],
    priorities: ["Strengthening UK AML regime", "Economic oversight"],
    importantDates: [{ date: "2025-12-01", title: "Consultation deadline", tags: "AML" }]
  },
  {
    name: "Home Office",
    news: [
      { title: "Immigration reform", summary: "Policy update related to border and AML investigations.", link: "#" }
    ],
    priorities: ["Border security", "AML investigations support"],
    importantDates: [{ date: "2025-11-30", title: "Policy release", tags: "AML" }]
  },
  {
    name: "HMRC",
    news: [
      { title: "Crypto reporting requirements updated", summary: "New guidance on crypto compliance.", link: "#" }
    ],
    priorities: ["Tax compliance", "AML supervision"],
    importantDates: [{ date: "2025-12-15", title: "Crypto guidance release", tags: "AML, Crypto" }]
  },
  {
    name: "FATF",
    news: [
      { title: "Next MER scheduled", summary: "The UK's next Mutual Evaluation Review will assess AML regime effectiveness.", link: "#" }
    ],
    priorities: ["Global AML standards", "UK evaluation"],
    importantDates: [{ date: "2027-01-01", title: "MER Review", tags: "AML" }]
  }
];

// Generate dashboard sections
const dashboard = document.getElementById("dashboard");

agenciesData.forEach(a => {
  const section = document.createElement("div");
  section.className = "section";

  const btn = document.createElement("button");
  btn.textContent = a.name;
  btn.onclick = () => {
    content.style.display = content.style.display === "block" ? "none" : "block";
  };

  const content = document.createElement("div");
  content.className = "content";

  const newsHTML = `<h3>News</h3>${a.news.map(n => `<p><strong>${n.title}</strong> - ${n.summary} <a href="${n.link}" target="_blank">Read more</a></p>`).join("")}`;
  const prioritiesHTML = `<h3>Priorities</h3><ul>${a.priorities.map(p => `<li>${p}</li>`).join("")}</ul>`;

  content.innerHTML = newsHTML + prioritiesHTML;

  section.appendChild(btn);
  section.appendChild(content);
  dashboard.appendChild(section);

  // Add to diary table
  const tbody = document.querySelector("#diary tbody");
  a.importantDates.forEach(d => {
    const row = document.createElement("tr");
    row.innerHTML = `<td>${d.date}</td><td>${a.name}</td><td>${d.title}</td><td>${d.tags}</td>`;
    tbody.appendChild(row);
  });
});
</script>

</body>
</html>
