<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>AML & Regulatory Dashboard</title>
<style>
  body { font-family: Arial, sans-serif; margin: 20px; background: #f4f4f9; color: #333; }
  h1 { text-align: center; color: #222; }
  .agency { border-radius: 8px; margin: 10px 0; padding: 15px; color: #fff; transition: all 0.3s ease; }
  .agency h2 { cursor: pointer; margin: 0; }
  .content { display: none; margin-top: 10px; padding: 10px; border-radius: 5px; background: rgba(255,255,255,0.2); }
  button { padding: 5px 10px; margin: 5px 0; cursor: pointer; border-radius: 4px; border: none; background: #3498db; color: #fff; }
  table { width: 100%; border-collapse: collapse; margin-top: 20px; }
  th, td { border: 1px solid #ccc; padding: 8px; text-align: left; }
  th { background: #2980b9; color: #fff; }
  .tag { display: inline-block; background: rgba(0,0,0,0.2); color: #fff; padding: 2px 6px; border-radius: 4px; margin-right: 5px; font-size: 0.9em; }
</style>
</head>
<body>

<h1>AML & Regulatory Dashboard</h1>
<p style="text-align:center;">Auto-loaded from agencies.json â€” shows news, summaries, priorities, tags, and important dates.</p>

<div id="agencies"></div>

<h2>Diary of Important Dates</h2>
<table id="diary">
  <thead>
    <tr>
      <th>Date</th>
      <th>Agency</th>
      <th>Title</th>
      <th>Tags</th>
    </tr>
  </thead>
  <tbody></tbody>
</table>

<script>
// JSON data
const agenciesData = [
  { name:"HM Treasury", color:"#1abc9c", news:[{title:"New AML guidance","summary":"Updated AML rules for firms.","tags":["AML"]},{title:"Budget 2026","summary":"Budget focuses on AML compliance.","tags":["AML","Payment"]}], priorities:["Strengthening UK AML regime","Economic oversight and regulatory reform"], dates:[{date:"2025-12-01", title:"Consultation deadline","tags":["AML"]}] },
  { name:"Home Office", color:"#e67e22", news:[{title:"Immigration reform announced","summary":"Policy update related to border and AML investigations.","tags":["AML","Border"]}], priorities:["Border security","AML investigations support"], dates:[{date:"2025-11-30", title:"Policy release","tags":["AML"]}] },
  { name:"HMRC", color:"#3498db", news:[{title:"Crypto reporting requirements updated","summary":"Guidance on crypto compliance for tax.","tags":["AML","Crypto"]}], priorities:["Tax compliance","AML supervision"], dates:[{date:"2025-12-15", title:"Crypto guidance","tags":["AML","Crypto"]}] },
  { name:"FATF", color:"#9b59b6", news:[{title:"Next MER scheduled","summary":"Next UK Mutual Evaluation Review in 2027.","tags":["AML","FATF"]}], priorities:["Global AML standards","UK evaluation"], dates:[{date:"2027-01-01", title:"Next MER","tags":["AML","FATF"]}] },
  { name:"FCA", color:"#e74c3c", news:[{title:"REP CRIM guidance released","summary":"Supervision guidance for firms.","tags":["AML","FCA"]}], priorities:["Supervision of authorized firms","Crypto oversight"], dates:[{date:"2025-12-10", title:"Compliance check deadline","tags":["AML","FCA"]}] },
  { name:"OFCOM", color:"#f1c40f", news:[{title:"Consumer protection update","summary":"New rules for telecom firms.","tags":["Consumer","Regulatory"]}], priorities:["Consumer protection","Regulatory oversight"], dates:[{date:"2025-12-05", title:"Telecom compliance review","tags":["Consumer"]}] },
  { name:"Trading Standards", color:"#16a085", news:[{title:"Fraud alert issued","summary":"Latest scams reported for public awareness.","tags":["Fraud","Consumer"]}], priorities:["Fraud prevention","Consumer protection"], dates:[{date:"2025-12-08", title:"Fraud alert","tags":["Fraud"]}] },
  { name:"National Trading Standards", color:"#c0392b", news:[{title:"National scam report published","summary":"Summary of major scams nationally.","tags":["Fraud","AML"]}], priorities:["National fraud monitoring","AML compliance"], dates:[{date:"2025-12-12", title:"Scam report","tags":["Fraud","AML"]}] },
  { name:"DWP", color:"#2c3e50", news:[{title:"Benefit fraud guidance updated","summary":"Guidance for detecting benefit fraud.","tags":["Fraud","AML"]}], priorities:["Fraud prevention","Welfare compliance"], dates:[{date:"2025-12-20", title:"Guidance update","tags":["Fraud"]}] }
];

// Function to render agencies
function renderAgencies() {
  const container = document.getElementById("agencies");
  agenciesData.forEach(agency=>{
    const div = document.createElement("div");
    div.className = "agency";
    div.style.background = agency.color;
    const h2 = document.createElement("h2");
    h2.textContent = agency.name;
    h2.onclick = () => content.style.display = content.style.display==="block"?"none":"block";
    const content = document.createElement("div");
    content.className = "content";
    
    // News
    const newsSection = document.createElement("div");
    newsSection.innerHTML = "<h3>News</h3>";
    agency.news.forEach(n=>{
      const p = document.createElement("p");
      p.innerHTML = `<strong>${n.title}</strong> - ${n.summary} <span class="tag">${n.tags.join(", ")}</span>`;
      newsSection.appendChild(p);
    });
    content.appendChild(newsSection);
    
    // Priorities
    const prioritiesSection = document.createElement("div");
    prioritiesSection.innerHTML = "<h3>Priorities</h3>";
    const ul = document.createElement("ul");
    agency.priorities.forEach(p=>{
      const li = document.createElement("li");
      li.textContent = p;
      ul.appendChild(li);
    });
    prioritiesSection.appendChild(ul);
    content.appendChild(prioritiesSection);
    
    // Important Dates
    const datesSection = document.createElement("div");
    datesSection.innerHTML = "<h3>Important Dates</h3>";
    agency.dates.forEach(d=>{
      const p = document.createElement("p");
      p.innerHTML = `${d.date}: ${d.title} <span class="tag">${d.tags.join(", ")}</span>`;
      datesSection.appendChild(p);
    });
    content.appendChild(datesSection);

    div.appendChild(h2);
    div.appendChild(content);
    container.appendChild(div);
  });
}

// Function to render diary
function renderDiary() {
  const tbody = document.querySelector("#diary tbody");
  agenciesData.forEach(agency=>{
    agency.dates.forEach(d=>{
      const tr = document.createElement("tr");
      tr.innerHTML = `<td>${d.date}</td><td>${agency.name}</td><td>${d.title}</td><td>${d.tags.join(", ")}</td>`;
      tbody.appendChild(tr);
    });
  });
}

// Run functions
renderAgencies();
renderDiary();
</script>
</body>
</html>
